Below is the detailed document structure for the information provided:

---

# **Starbucks "Usuals" Application Documentation**  

## **Table of Contents**  
1. [Introduction](#introduction)  
2. [Overview of the Application](#overview-of-the-application)  
3. [Pipelines Overview](#pipelines-overview)  
4. [Detailed Pipeline Descriptions](#detailed-pipeline-descriptions)  
   - [Usuals Aggregate Pipeline](#usuals-aggregate-pipeline)  
   - [Seasonal Product Boosting Pipeline](#seasonal-product-boosting-pipeline)  
   - [KPI Pipeline](#kpi-pipeline)  
   - [Load and Switch Views Pipeline](#load-and-switch-views-pipeline)  
   - [Similar Items Pipelines](#similar-items-pipelines)  
5. [Technical Details](#technical-details)  
6. [Key Highlights](#key-highlights)  
7. [Conclusion](#conclusion)  

---

## **1. Introduction**  
The **Starbucks Usuals Application** aims to enhance the user experience by presenting a **"Quick Order" card** on the Starbucks mobile app, based on customers' usual transactions. This card minimizes the effort required for users to reorder their favorite items with the fewest clicks.  

The application aggregates data from **in-store** and **mobile transactions** to provide a holistic view of customer interactions and recommends the most appropriate order for specific times of the day and week.  

---

## **2. Overview of the Application**  
### **Objective**:  
- **Usuals Order**: Present the customer's most frequent order for the given time and day.  
- **Seasonal Recommendations**: Highlight seasonal products the customer might enjoy.  
- **Similar Items**: Suggest alternative products when an item is out of stock.  

### **Technology Stack**:  
- **Azure Data Factory (ADF)** for data pipelines.  
- **Azure Data Lake Storage (ADLS)** for intermediate data storage.  
- **Cosine Similarity** for calculating product similarities.  
- **Redis** for fast data retrieval.  

---

## **3. Pipelines Overview**  

| **Pipeline**                    | **Purpose**                                                                 | **Frequency**         | **Average Runtime**     |  
|----------------------------------|-----------------------------------------------------------------------------|-----------------------|-------------------------|  
| Usuals Aggregate Main           | Provide the most appropriate "Quick Order" card for users.                  | Weekly (Saturday)     | 7 hours                |  
| Seasonal Product Boosting Main  | Identify seasonal product purchases for recommendation optimization.         | Weekly (Saturday)     | 33 minutes             |  
| KPI Pipeline Main               | Process clickstream data and store it in ADLS and SQL Delta Tables.          | Daily                 | 15-17 minutes          |  
| Load and Switch Views Main      | Upload data from Usuals Delta Paths into Usuals SQL DB.                      | Weekly (Tues/Wed)     | 20 min (Tue), 4 hrs (Wed) |  
| Similar_items_Master            | Generate category similarity data for "Similar Items" feature.               | Weekly (Saturday)     | 25 minutes             |  
| Upload_to_redis                 | Upload category similarity data into Redis for faster retrieval.             | Weekly (Saturday)     | 10 minutes             |  

---

## **4. Detailed Pipeline Descriptions**  

### **Usuals Aggregate Pipeline**  
**Goal**:  
- Provide the user with a "Quick Order" card by presenting their usual order for a specific time of day and day of the week.  

**Details**:  
- Aggregates both **in-store** and **mobile app transactions** to generate a holistic view.  
- Uses advanced logic to identify patterns in customer preferences.  

**Technology**:  
- **ADF** for data orchestration.  
- Scheduled **weekly on Saturdays**.  

**Runtime**:  
- Average: **7 hours**.  

---

### **Seasonal Product Boosting Pipeline**  
**Goal**:  
- Identify customer preferences for seasonal products.  
- Optimize recommendations for seasonal items.  

**Details**:  
- Analyzes transaction data to determine seasonal product purchases.  
- Enhances the likelihood of seasonal product selection during recommendations.  

**Technology**:  
- **ADF** for data processing.  
- Scheduled **weekly on Saturdays**.  

**Runtime**:  
- Average: **33 minutes**.  

---

### **KPI Pipeline**  
**Goal**:  
- Process clickstream data from the Starbucks mobile application.  
- Write intermediary data to **ADLS Delta Tables** and a final SQL table.  

**Details**:  
- Tracks customer interactions and behaviors.  
- Processes large volumes of real-time clickstream data.  

**Technology**:  
- **ADF** for orchestration.  
- Scheduled **daily**.  

**Runtime**:  
- Average: **15-17 minutes**.  

---

### **Load and Switch Views Pipeline**  
**Goal**:  
- Read data from Usuals Delta Paths and load it into the Usuals SQL database.  
- Maintain database views for quick access.  

**Details**:  
- Handles data synchronization between Delta Tables and SQL DB.  
- Runs on **Tuesdays and Wednesdays** for optimal data availability.  

**Technology**:  
- **ADF** for execution.  

**Runtime**:  
- **Tuesday**: **20 minutes**.  
- **Wednesday**: **4 hours**.  

---

### **Similar Items Pipelines**  

#### **Similar_items_Master**  
**Goal**:  
- Generate a similarity matrix for Starbucks menu items based on ingredients.  
- Output aggregated category similarity information.  

**Details**:  
- Uses **cosine similarity** to compute relationships between items.  
- Stores results in **ADLS Delta Paths** for further usage.  

**Technology**:  
- **ADF** for orchestration.  
- Scheduled **weekly on Saturdays**.  

**Runtime**:  
- Average: **25 minutes**.  

#### **Upload_to_redis**  
**Goal**:  
- Upload similarity data from Delta Paths to Redis for fast retrieval.  

**Details**:  
- Ensures high-speed data availability for the application.  

**Technology**:  
- **ADF** for execution.  
- Scheduled **weekly on Saturdays**.  

**Runtime**:  
- Average: **10 minutes**.  

---

## **5. Technical Details**  
- **Cosine Similarity**: Used for comparing item similarities based on keywords and ingredients.  
- **Redis**: Provides a low-latency storage solution for serving recommendations.  
- **Delta Tables**: Intermediate storage layer used to store processed data for downstream consumption.  

---

## **6. Key Highlights**  
- Comprehensive **"Quick Order" functionality** minimizing user effort.  
- Real-time **KPI tracking** for better understanding of user behavior.  
- Robust seasonal and alternative item recommendations based on data analytics.  

---

## **7. Conclusion**  
The Starbucks Usuals Application leverages advanced analytics and modern cloud infrastructure to enhance user experience. With efficient pipelines, real-time tracking, and optimized recommendations, it ensures personalized customer engagement while maintaining scalability and reliability.  

--- 

Would you like to include diagrams or flowcharts for these pipelines?
